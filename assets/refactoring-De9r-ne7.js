import{r as x,j as s,c as F,R as A}from"./client-DD4c7S6m.js";const k=e=>e.reduce((t,n)=>Math.max(t,n.rate),0),q=(e,t)=>{const n=e.find(a=>a.product.id===t.id);return t.stock-((n==null?void 0:n.quantity)||0)},T=e=>{const{discounts:t}=e.product,{quantity:n}=e;let a=0;for(const r of t)n>=r.quantity&&(a=Math.max(a,r.rate));return a},$=e=>{const{product:t,quantity:n}=e,{price:a}=t,r=a*n,o=E(e),c=r*o;return r-c},E=e=>{const{product:t,quantity:n}=e,{discounts:a}=t;return a.reduce((o,c)=>n>=c.quantity?c.rate:o,0)},M=(e,t)=>e?e.discountType==="amount"?e.discountValue:t*(e.discountValue/100):0,L=(e,t)=>{const n=e.reduce((c,i)=>{const{product:m,quantity:l}=i,{price:d}=m,u=d*l;return c+u},0),a=e.reduce((c,i)=>{const m=$(i);return c+m},0),r=a-M(t,a),o=n-r;return{totalBeforeDiscount:n,totalAfterDiscount:r,totalDiscount:o}},P=(e,t,n)=>{const a=e.find(o=>o.product.id===t).product;return e.map(o=>o.product.id===t?n===0?null:n>a.stock?{...o,quantity:a.stock}:{...o,quantity:n}:o).filter(o=>o!==null)},O=()=>{const[e,t]=x.useState([]),[n,a]=x.useState(null);return{cart:e,addToCart:l=>{t(d=>{const u=d.find(j=>j.product.id===l.id);return u?P(d,l.id,u.quantity+1):[...d,{product:l,quantity:1}]})},removeFromCart:l=>{t(d=>d.filter(u=>u.product.id!==l))},updateQuantity:(l,d)=>{t(u=>P(u,l,d))},applyCoupon:l=>{a(l)},calculateTotal:()=>{const{totalBeforeDiscount:l,totalAfterDiscount:d,totalDiscount:u}=L(e,n);return{totalBeforeDiscount:l,totalAfterDiscount:d,totalDiscount:u}},selectedCoupon:n}};function v(e,t){const n=()=>{try{const o=localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return console.error(`Error reading localStorage key "${e}":`,o),t}},[a,r]=x.useState(n);return x.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(a))}catch(o){console.error(`Error setting localStorage key "${e}":`,o)}},[e,a]),[a,r]}const R=e=>{const[t,n]=v("coupons",e);return{coupons:t,addCoupon:r=>{n(o=>[...o,r])}}},U=({onCouponAdd:e})=>{const[t,n]=x.useState({name:"",code:"",discountType:"percentage",discountValue:0});return{newCoupon:t,handleAddCoupon:()=>{e(t),n({name:"",code:"",discountType:"percentage",discountValue:0})},handleCouponChange:o=>{n(o)}}},B=e=>{const[t,n]=v("products",e);return{products:t,updateProduct:o=>{n(c=>c.map(i=>i.id===o.id?o:i))},addProduct:o=>{n(c=>[...c,o])}}},H=()=>{const[e,t]=x.useState(new Set);return{openIds:e,isOpen:r=>e.has(r),toggle:r=>{t(o=>{const c=new Set(o);return c.has(r)?c.delete(r):c.add(r),c})}}},_=({onProductUpdate:e})=>{const[t,n]=x.useState(null);return{editingProduct:t,handleEditProduct:c=>{n({...c})},handleEditComplete:()=>{t&&(e(t),n(null))},handleFieldUpdate:(c,i,m)=>{t&&t.id===c&&n({...t,[i]:m})}}},z=()=>{const[e,t]=x.useState({quantity:0,rate:0});return{newDiscount:e,setNewDiscount:t,handleAddDiscount:r=>r&&{...r,discounts:[...r.discounts,e]},handleRemoveDiscount:(r,o)=>r&&{...r,discounts:r.discounts.filter((c,i)=>i!==o)}}},J=({onProductAdd:e})=>{const[t,n]=x.useState(!1),[a,r]=x.useState({name:"",price:0,stock:0,discounts:[]});return{showNewProductForm:t,setShowNewProductForm:n,newProduct:a,setNewProduct:r,handleAddNewProduct:()=>{const c={...a,id:Date.now().toString()};e(c),r({name:"",price:0,stock:0,discounts:[]}),n(!1)}}},Q=e=>{const[t,n]=v("isAdmin",e);return{isAdmin:t,setIsAdmin:n}},b=({variant:e,children:t,className:n=""})=>{const a={h1:"text-3xl font-bold mb-6",h2:"text-2xl font-semibold mb-4",h3:"text-lg font-semibold mb-2",price:"text-gray-600",label:"text-sm font-medium",productName:"font-semibold",navHeader:"text-2xl font-bold"},o={h1:"h1",h2:"h2",h3:"h3",price:"span",label:"span",productName:"span",navHeader:"h1"}[e];return s.jsx(o,{className:`${a[e]} ${n}`,children:t})},S=({title:e,children:t})=>s.jsxs(G,{children:[s.jsx(b,{variant:"h1",children:e}),s.jsx(W,{children:t})]}),G=({children:e,className:t=""})=>s.jsx("div",{className:`container mx-auto p-4 ${t}`,children:e}),W=({children:e,className:t=""})=>s.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 ${t}`,children:e}),f=({title:e,children:t})=>s.jsxs("section",{children:[s.jsx(b,{variant:"h2",children:e}),t]}),h=({color:e="none",width:t="default",text:n="default",className:a="",disabled:r,children:o,...c})=>{const i={white:"bg-white text-blue-600 hover:bg-blue-100",blue:"bg-blue-500 text-white hover:bg-blue-600 disabled:bg-gray-300 disabled:text-gray-500",green:"bg-green-500 text-white hover:bg-green-600",red:"bg-red-500 text-white hover:bg-red-600",gray:"bg-gray-300 text-gray-500 hover:bg-gray-400",none:""},m={full:"w-full",third:"w-1/3",default:""},l={"left-semibold":"text-left font-semibold",default:""},d=r?"cursor-not-allowed":"";return s.jsx("button",{className:`
        rounded
        ${i[e]}
        ${m[t]}
        ${l[n]}
        ${d}
        ${a}
      `,disabled:r,...c,children:o})},g=({color:e="default",size:t="default",weight:n="default",className:a="",children:r,...o})=>{const c={gray:"text-gray-600",green:"text-green-600",blue:"text-blue-600",red:"text-red-600",default:""},i={sm:"text-sm",default:""},m={semibold:"font-semibold",medium:"font-medium",default:""};return s.jsx("span",{className:`
        ${c[e]}
        ${i[t]}
        ${m[n]}
        ${a}
      `,...o,children:r})},K=({item:e,appliedDiscount:t,onUpdateQuantity:n,onRemoveFromCart:a})=>s.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded shadow",children:[s.jsxs("div",{children:[s.jsx(g,{className:"font-semibold",children:e.product.name}),s.jsx("br",{}),s.jsxs(g,{size:"sm",color:"gray",children:[e.product.price,"원 x ",e.quantity,t>0&&s.jsxs(g,{color:"green",className:"ml-1",children:["(",(t*100).toFixed(0),"% 할인 적용)"]})]})]}),s.jsxs("div",{children:[s.jsx(h,{onClick:()=>n(e.product.id,e.quantity-1),color:"gray",className:"px-2 py-1 mr-1",children:"-"}),s.jsx(h,{onClick:()=>n(e.product.id,e.quantity+1),color:"gray",className:"px-2 py-1 mr-1",children:"+"}),s.jsx(h,{onClick:()=>a(e.product.id),color:"red",className:"px-2 py-1",children:"삭제"})]})]}),X=({cart:e,updateQuantity:t,removeFromCart:n})=>s.jsx("div",{className:"space-y-2",children:e.map(a=>{const r=T(a);return s.jsx(K,{item:a,appliedDiscount:r,onUpdateQuantity:t,onRemoveFromCart:n},a.product.id)})}),Y=({product:e,remainingStock:t,onAddToCart:n,getMaxDiscount:a})=>s.jsxs("div",{"data-testid":`product-${e.id}`,className:"bg-white p-3 rounded shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(g,{weight:"semibold",children:e.name}),s.jsxs(g,{color:"gray",children:[e.price.toLocaleString(),"원"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[s.jsxs(g,{weight:"medium",color:t>0?"green":"red",children:["재고: ",t,"개"]}),e.discounts.length>0&&s.jsxs(g,{weight:"medium",color:"blue",className:"ml-2",children:["최대 ",(a(e.discounts)*100).toFixed(0),"% 할인"]})]}),e.discounts.length>0&&s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-500 mb-2",children:e.discounts.map((r,o)=>s.jsxs("li",{children:[r.quantity,"개 이상: ",(r.rate*100).toFixed(0),"% 할인"]},o))}),s.jsx(h,{onClick:()=>n(e),color:t>0?"blue":"gray",className:"w-full px-3 py-1",disabled:t<=0,children:t>0?"장바구니에 추가":"품절"})]}),Z=({products:e,cart:t,onAddToCart:n})=>s.jsx("div",{className:"space-y-2",children:e.map(a=>{const r=q(t,a);return s.jsx(Y,{product:a,remainingStock:r,onAddToCart:n,getMaxDiscount:k},a.id)})}),ee=({coupons:e,selectedCoupon:t,onApplyCoupon:n})=>s.jsxs("div",{className:"mt-6 bg-white p-4 rounded shadow",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"쿠폰 적용"}),s.jsxs("select",{onChange:a=>n(e[parseInt(a.target.value)]),className:"w-full p-2 border rounded mb-2",children:[s.jsx("option",{value:"",children:"쿠폰 선택"}),e.map((a,r)=>s.jsxs("option",{value:r,children:[a.name," -"," ",a.discountType==="amount"?`${a.discountValue}원`:`${a.discountValue}%`]},a.code))]}),t&&s.jsxs("p",{className:"text-green-600",children:["적용된 쿠폰: ",t.name,"(",t.discountType==="amount"?`${t.discountValue}원`:`${t.discountValue}%`," ","할인)"]})]}),te=({totalBeforeDiscount:e,totalDiscount:t,totalAfterDiscount:n})=>s.jsxs("div",{className:"mt-6 bg-white p-4 rounded shadow",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"주문 요약"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:["상품 금액: ",e.toLocaleString(),"원"]}),s.jsxs("p",{className:"text-green-600",children:["할인 금액: ",t.toLocaleString(),"원"]}),s.jsxs("p",{className:"text-xl font-bold",children:["최종 결제 금액: ",n.toLocaleString(),"원"]})]})]}),se=({products:e,coupons:t})=>{const{cart:n,addToCart:a,removeFromCart:r,updateQuantity:o,applyCoupon:c,calculateTotal:i,selectedCoupon:m}=O(),{totalBeforeDiscount:l,totalAfterDiscount:d,totalDiscount:u}=i();return s.jsxs(S,{title:"장바구니",children:[s.jsx(f,{title:"상품 목록",children:s.jsx(Z,{products:e,cart:n,onAddToCart:a})}),s.jsxs(f,{title:"장바구니 내역",children:[s.jsx(X,{cart:n,updateQuantity:o,removeFromCart:r}),s.jsx(ee,{coupons:t,selectedCoupon:m,onApplyCoupon:c}),s.jsx(te,{totalBeforeDiscount:l,totalDiscount:u,totalAfterDiscount:d})]})]})},V=x.createContext(null),ne=({children:e,onProductUpdate:t,onProductAdd:n})=>{const a=H(),r=_({onProductUpdate:t}),o=z(),c=J({onProductAdd:n}),i=d=>{var u;if(((u=r.editingProduct)==null?void 0:u.id)===d){const j=o.handleAddDiscount(r.editingProduct);r.handleFieldUpdate(d,"discounts",j.discounts),o.setNewDiscount({quantity:0,rate:0})}},m=(d,u)=>{var j;if(((j=r.editingProduct)==null?void 0:j.id)===d){const D=o.handleRemoveDiscount(r.editingProduct,u);r.handleFieldUpdate(d,"discounts",D.discounts)}},l={isOpen:a.isOpen,toggle:a.toggle,editingProduct:r.editingProduct,handleEditProduct:r.handleEditProduct,handleEditComplete:r.handleEditComplete,handleFieldUpdate:r.handleFieldUpdate,newDiscount:o.newDiscount,setNewDiscount:o.setNewDiscount,handleDiscountAdd:i,handleDiscountRemove:m,showNewProductForm:c.showNewProductForm,setShowNewProductForm:c.setShowNewProductForm,newProduct:c.newProduct,setNewProduct:c.setNewProduct,handleAddNewProduct:c.handleAddNewProduct};return s.jsx(V.Provider,{value:l,children:e})},p=()=>{const e=x.useContext(V);if(!e)throw new Error("useProductManagement must be used within a ProductManagementProvider");return e},ae=(e,t)=>{switch(e){case"price":const n=Number(t);return isNaN(n)?{isValid:!1,message:"숫자를 입력해주세요."}:n<0?{isValid:!1,message:"0 이상의 값을 입력해주세요."}:n>1e9?{isValid:!1,message:"10억 이하의 값을 입력해주세요."}:{isValid:!0};case"stock":const a=Number(t);return isNaN(a)?{isValid:!1,message:"숫자를 입력해주세요."}:Number.isInteger(a)?a<0?{isValid:!1,message:"0 이상의 값을 입력해주세요."}:a>1e4?{isValid:!1,message:"10000 이하의 값을 입력해주세요."}:{isValid:!0}:{isValid:!1,message:"정수를 입력해주세요."};case"quantity":const r=Number(t);return isNaN(r)?{isValid:!1,message:"숫자를 입력해주세요."}:Number.isInteger(r)?r<=0?{isValid:!1,message:"1 이상의 값을 입력해주세요."}:{isValid:!0}:{isValid:!1,message:"정수를 입력해주세요."};case"rate":const o=Number(t);return isNaN(o)?{isValid:!1,message:"숫자를 입력해주세요."}:o<=0?{isValid:!1,message:"0보다 큰 값을 입력해주세요."}:o>100?{isValid:!1,message:"100 이하의 값을 입력해주세요."}:{isValid:!0};case"discountValue":const c=Number(t);return isNaN(c)?{isValid:!1,message:"숫자를 입력해주세요."}:c<0?{isValid:!1,message:"0 이상의 값을 입력해주세요."}:c>1e9?{isValid:!1,message:"10억 이하의 값을 입력해주세요."}:{isValid:!0};default:return{isValid:!0}}},re=()=>({withValidation:(t,n)=>a=>{const r=ae(t,a.target.value);if(!r.isValid&&r.message){alert(r.message);return}n(a.target.value)}}),N=e=>{const{withValidation:t}=re();return{handleInputChange:a=>t(a,r=>{e==null||e({target:{value:r}})})}},y=({label:e,field:t,className:n="",onChange:a,...r})=>{const{handleInputChange:o}=N(a);return s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:r.id,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx("input",{className:`w-full p-2 border rounded ${n}`,...r,onChange:o(t)})]})},oe=()=>{const{showNewProductForm:e,newProduct:t,setNewProduct:n,handleAddNewProduct:a}=p();return e?s.jsxs("div",{className:"bg-white p-4 rounded shadow mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"새 상품 추가"}),s.jsx(y,{id:"productName",label:"상품명",field:"name",value:t.name,onChange:r=>n({...t,name:r.target.value})}),s.jsx(y,{id:"productPrice",label:"가격",field:"price",type:"number",value:t.price,onChange:r=>n({...t,price:parseInt(r.target.value)})}),s.jsx(y,{id:"productStock",label:"재고",field:"stock",type:"number",value:t.stock,onChange:r=>n({...t,stock:parseInt(r.target.value)})}),s.jsx(h,{color:"blue",width:"full",className:"p-2",onClick:a,children:"추가"})]}):null},ce=()=>{const{showNewProductForm:e,setShowNewProductForm:t}=p();return s.jsxs(s.Fragment,{children:[s.jsx(h,{onClick:()=>t(!e),color:"green",className:"px-4 py-2 mb-4",children:e?"취소":"새 상품 추가"}),s.jsx(oe,{})]})},I=({field:e,className:t="",onChange:n,...a})=>{const{handleInputChange:r}=N(n);return s.jsx("input",{type:"number",placeholder:"수량",onChange:r(e),className:`w-1/3 p-2 border rounded ${t}`,...a})},de=({product:e})=>{const{handleDiscountAdd:t,newDiscount:n,setNewDiscount:a}=p();return s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{field:"quantity",type:"number",placeholder:"수량",value:n.quantity,onChange:r=>a({...n,quantity:parseInt(r.target.value)})}),s.jsx(I,{field:"rate",type:"number",placeholder:"할인율 (%)",value:n.rate*100,onChange:r=>a({...n,rate:parseInt(r.target.value)/100})}),s.jsx(h,{color:"blue",width:"third",className:"p-2",onClick:()=>t(e.id),children:"할인 추가"})]})},ie=({discount:e,productId:t,index:n})=>{const{handleDiscountRemove:a}=p();return s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs(g,{children:[e.quantity,"개 이상 구매 시 ",e.rate*100,"% 할인"]}),s.jsx(h,{color:"red",className:"px-2 py-1",onClick:()=>a(t,n),children:"삭제"})]})},le=({product:e})=>{const{editingProduct:t}=p();return s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"할인 정보"}),t==null?void 0:t.discounts.map((n,a)=>s.jsx(ie,{discount:n,productId:e.id,index:a},a)),s.jsx(de,{product:e})]})},w=({field:e,label:t,onChange:n,type:a="number",...r})=>{const{editingProduct:o}=p(),{handleInputChange:c}=N(n);return o?s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block mb-1",children:[t,": "]}),s.jsx("input",{type:a,value:o[e],onChange:c(e),className:"w-full p-2 border rounded",...r})]}):null},ue=({product:e})=>{const{editingProduct:t,handleFieldUpdate:n}=p();return t?s.jsxs(s.Fragment,{children:[s.jsx(w,{field:"name",label:"상품명",type:"text",value:t.name,onChange:a=>n(e.id,"name",a.target.value)}),s.jsx(w,{field:"price",label:"가격",type:"number",value:t.price,onChange:a=>n(e.id,"price",parseInt(a.target.value))}),s.jsx(w,{field:"stock",label:"재고",type:"number",value:t.stock,onChange:a=>n(e.id,"stock",parseInt(a.target.value))})]}):null},me=({product:e})=>{const{handleEditComplete:t}=p();return s.jsxs("div",{children:[s.jsx(ue,{product:e}),s.jsx(le,{product:e}),s.jsx(h,{color:"green",className:"px-2 py-1 mt-2",onClick:t,children:"수정 완료"})]})},he=({product:e})=>{const{handleEditProduct:t}=p();return s.jsxs("div",{children:[e.discounts.map((n,a)=>s.jsx("div",{className:"mb-2",children:s.jsxs(g,{children:[n.quantity,"개 이상 구매 시 ",n.rate*100,"% 할인"]})},a)),s.jsx(h,{"data-testid":"modify-button",onClick:()=>t(e),color:"blue",className:"px-2 py-1 mt-2",children:"수정"})]})},xe=({product:e,index:t})=>{const{isOpen:n,toggle:a,editingProduct:r}=p();return s.jsxs("div",{"data-testid":`product-${t+1}`,className:"bg-white p-4 rounded shadow",children:[s.jsxs(h,{"data-testid":"toggle-button",width:"full",text:"left-semibold",onClick:()=>a(e.id),children:[e.name," - ",e.price,"원 (재고: ",e.stock,")"]}),n(e.id)&&s.jsx("div",{className:"mt-2",children:r&&r.id===e.id?s.jsx(me,{product:e}):s.jsx(he,{product:e})})]},e.id)},pe=({products:e})=>s.jsx("div",{className:"space-y-2",children:e.map((t,n)=>s.jsx(xe,{product:t,index:n},t.id))}),ge=({products:e,onProductUpdate:t,onProductAdd:n})=>s.jsx(ne,{onProductUpdate:t,onProductAdd:n,children:s.jsxs(f,{title:"상품 관리",children:[s.jsx(ce,{}),s.jsx(pe,{products:e})]})}),C=({className:e="",field:t,onChange:n,...a})=>{const{handleInputChange:r}=N(n);return s.jsx("input",{className:`w-full p-2 border rounded ${e}`,...a,onChange:r(t)})},je=({label:e,className:t="",options:n,...a})=>s.jsx("select",{className:`w-full p-2 border rounded ${t}`,...a,children:n.map(r=>s.jsx("option",{value:r.value,children:r.label},r.value))}),fe=({coupon:e,onChange:t,onSubmit:n})=>s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx(C,{field:"name",placeholder:"쿠폰 이름",value:e.name,onChange:a=>t({...e,name:a.target.value})}),s.jsx(C,{field:"code",placeholder:"쿠폰 코드",value:e.code,onChange:a=>t({...e,code:a.target.value})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{value:e.discountType,onChange:a=>t({...e,discountType:a.target.value}),options:[{value:"amount",label:"금액(원)"},{value:"percentage",label:"할인율(%)"}]}),s.jsx(C,{field:"discountValue",type:"number",placeholder:"할인 값",value:e.discountValue,onChange:a=>t({...e,discountValue:parseInt(a.target.value)})})]}),s.jsx(h,{color:"green",width:"full",className:"p-2",onClick:n,children:"쿠폰 추가"})]}),be=({coupon:e,index:t})=>s.jsxs("div",{"data-testid":`coupon-${t+1}`,className:"bg-gray-100 p-2 rounded",children:[e.name," (",e.code,"):",e.discountType==="amount"?`${e.discountValue}원`:`${e.discountValue}%`," ","할인"]},t),Ne=({coupons:e})=>s.jsxs("div",{children:[s.jsx(b,{variant:"h3",children:"현재 쿠폰 목록"}),s.jsx("div",{className:"space-y-2",children:e.map((t,n)=>s.jsx(be,{coupon:t,index:n},n))})]}),ye=({coupons:e,onCouponAdd:t})=>{const{newCoupon:n,handleAddCoupon:a,handleCouponChange:r}=U({onCouponAdd:t});return s.jsx(f,{title:"쿠폰 관리",children:s.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[s.jsx(fe,{coupon:n,onChange:r,onSubmit:a}),s.jsx(Ne,{coupons:e})]})})},we=({products:e,coupons:t,onProductUpdate:n,onProductAdd:a,onCouponAdd:r})=>s.jsxs(S,{title:"관리자 페이지",children:[s.jsx(ge,{products:e,onProductUpdate:n,onProductAdd:a}),s.jsx(ye,{coupons:t,onCouponAdd:r})]}),Ce=({isAdmin:e,setIsAdmin:t})=>s.jsx("nav",{className:"bg-blue-600 text-white p-4",children:s.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[s.jsx(b,{variant:"navHeader",children:"쇼핑몰 관리 시스템"}),s.jsx(h,{onClick:()=>t(n=>!n),color:"white",className:"px-4 py-2",children:e?"장바구니 페이지로":"관리자 페이지로"})]})}),ve=[{id:"p1",name:"상품1",price:1e4,stock:20,discounts:[{quantity:10,rate:.1},{quantity:20,rate:.2}]},{id:"p2",name:"상품2",price:2e4,stock:20,discounts:[{quantity:10,rate:.15}]},{id:"p3",name:"상품3",price:3e4,stock:20,discounts:[{quantity:10,rate:.2}]}],Pe=[{name:"5000원 할인 쿠폰",code:"AMOUNT5000",discountType:"amount",discountValue:5e3},{name:"10% 할인 쿠폰",code:"PERCENT10",discountType:"percentage",discountValue:10}],Ie=()=>{const{products:e,updateProduct:t,addProduct:n}=B(ve),{coupons:a,addCoupon:r}=R(Pe),{isAdmin:o,setIsAdmin:c}=Q(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx(Ce,{isAdmin:o,setIsAdmin:c}),s.jsx("main",{className:"container mx-auto mt-6",children:o?s.jsx(we,{products:e,coupons:a,onProductUpdate:t,onProductAdd:n,onCouponAdd:r}):s.jsx(se,{products:e,coupons:a})})]})};F.createRoot(document.getElementById("root")).render(s.jsx(A.StrictMode,{children:s.jsx(Ie,{})}));
